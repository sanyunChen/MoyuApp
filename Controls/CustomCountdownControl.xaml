<UserControl x:Class="MoyuApp.Controls.CustomCountdownControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">
    
    <materialDesign:Card Padding="20" Margin="8" 
                        UniformCornerRadius="14">
        <StackPanel>
            <TextBlock Text="自定义倒计时" FontSize="18" FontWeight="Bold" 
                      Margin="0,0,0,12" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
            
            <ListBox x:Name="CountdownListBox" 
                    materialDesign:ListBoxAssist.IsToggle="False"
                    MaxHeight="200"
                    ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                    BorderThickness="0"
                    Background="Transparent"
                    MouseDoubleClick="CountdownListBox_MouseDoubleClick">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="{Binding Name}" FontWeight="SemiBold" Width="120"/>
                            <TextBlock Text="{Binding DaysRemaining, StringFormat='还有 {0} 天'}" 
                                      Margin="10,0,0,0" Opacity="0.8"/>
                            <TextBlock Text="{Binding Date, StringFormat='({0:yyyy-MM-dd})'}" 
                                      Margin="10,0,0,0" Opacity="0.6" FontSize="12"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
            
            <Button x:Name="AddCountdownButton" 
                   Content="+ 添加倒计时" 
                   Margin="0,15,0,0"
                   Style="{StaticResource MaterialDesignOutlinedButton}"
                   Click="AddCountdownButton_Click"/>
        </StackPanel>
    </materialDesign:Card>
</UserControl>